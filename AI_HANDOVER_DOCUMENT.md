# ğŸš€ Bachelo - AIå¼•ãç¶™ãç·åˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## ğŸ“… æœ€çµ‚æ›´æ–°: 2025-01-16

## âš ï¸ é‡è¦ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**Bacheloï¼ˆãƒãƒã‚§ãƒ­ï¼‰**ã¯ã€æˆäººå‘ã‘ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚æŠ€è¡“çš„ã«é«˜åº¦ãªå®Ÿè£…ã‚’ç›®æŒ‡ã—ã¦ãŠã‚Šã€ä»¥ä¸‹ã®ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ï¼š

- **å¯¾è±¡**: 18æ­³ä»¥ä¸Šã®æˆäººãƒ¦ãƒ¼ã‚¶ãƒ¼
- **ç›®çš„**: åŒ¿åæ€§ã‚’ä¿ã¡ã¤ã¤å®‰å…¨ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç’°å¢ƒã‚’æä¾›
- **æŠ€è¡“**: Next.js 14 + Supabase ã«ã‚ˆã‚‹æœ€æ–°ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Framework**: Next.js 14.2.30 (App Router)
- **Language**: TypeScript (strict mode æ¨å¥¨)
- **Styling**: Tailwind CSS 3.4.17
- **Icons**: Lucide React

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **API**: Next.js API Routes
- **Database**: Supabase PostgreSQL
- **Storage**: Supabase Storage
- **Auth**: Supabase Authï¼ˆAnonymous + Emailï¼‰
- **Deployment**: Render.com

### é–‹ç™ºç’°å¢ƒ
- **Node**: 18.xä»¥ä¸Š
- **Package Manager**: npm
- **IDE**: VS Codeæ¨å¥¨

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
Bachelo/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ (main)/            # ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé©ç”¨ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ board/         # æ²ç¤ºæ¿æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ events/        # ã‚¤ãƒ™ãƒ³ãƒˆæ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ dashboard/     # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ (auth)/            # èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ admin/             # ç®¡ç†ç”»é¢
â”‚   â””â”€â”€ api/               # API Routes
â”œâ”€â”€ components/            # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ board/            # æ²ç¤ºæ¿é–¢é€£
â”‚   â”œâ”€â”€ ui/               # å…±é€šUI
â”‚   â””â”€â”€ error/            # ã‚¨ãƒ©ãƒ¼å‡¦ç†
â”œâ”€â”€ lib/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ supabase/         # Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ utils/            # æ±ç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ validations/      # Zodã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ hooks/                 # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”œâ”€â”€ types/                 # TypeScriptå‹å®šç¾©
â”œâ”€â”€ scripts/               # é–‹ç™º/é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ supabase/             # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
    â””â”€â”€ migrations/       # SQLãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```

## ğŸ”¥ ç¾åœ¨ã®çŠ¶æ…‹ã¨èª²é¡Œ

### âœ… å®Œäº†æ¸ˆã¿æ©Ÿèƒ½
1. **åŸºæœ¬çš„ãªæ²ç¤ºæ¿æ©Ÿèƒ½**
   - æŠ•ç¨¿ã®ä½œæˆãƒ»é–²è¦§ãƒ»å‰Šé™¤
   - è¿”ä¿¡æ©Ÿèƒ½
   - æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ+/-ï¼‰
   - ã‚«ãƒ†ã‚´ãƒªãƒ¼åˆ†é¡
   - åœ°åŸŸåˆ¥æŠ•ç¨¿

2. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½**
   - é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
   - ãƒˆãƒ¬ãƒ³ãƒ‰è¡¨ç¤º
   - ãƒ›ãƒƒãƒˆã‚¹ãƒ¬ãƒƒãƒ‰

3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½**
   - åŒ¿åæŠ•ç¨¿
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
   - ãƒã‚¤ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ 
   - ãƒ¬ãƒ™ãƒ«ãƒ»ãƒãƒƒã‚¸

4. **ç®¡ç†æ©Ÿèƒ½**
   - NGãƒ¯ãƒ¼ãƒ‰æ¤œå‡º
   - ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½
   - ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### ğŸ› æ—¢çŸ¥ã®å•é¡Œ

#### é‡å¤§ï¼ˆCriticalï¼‰
1. **TypeScriptè¨­å®š**
   - `strict: false`ã®ãŸã‚å‹ã‚¨ãƒ©ãƒ¼ãŒéš ã‚Œã¦ã„ã‚‹
   - 100ç®‡æ‰€ä»¥ä¸Šã®`any`å‹ä½¿ç”¨
   - **æ¨å¥¨å¯¾å¿œ**: strict modeæœ‰åŠ¹åŒ–

2. **console.logæ®‹å­˜**
   - 128ãƒ•ã‚¡ã‚¤ãƒ«ã«1041ç®‡æ‰€
   - **æ¨å¥¨å¯¾å¿œ**: ãƒ­ã‚¬ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã¸ã®ç§»è¡Œ

3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
   - APIé–“ã§ä¸çµ±ä¸€
   - **æ¨å¥¨å¯¾å¿œ**: çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…

#### é«˜å„ªå…ˆåº¦ï¼ˆHighï¼‰
- React Hookä¾å­˜é…åˆ—ã®ä¸å‚™
- ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã•ã‚ŒãŸå€¤ï¼ˆå®šæ•°åŒ–å¿…è¦ï¼‰
- ä¸€éƒ¨ã®å¤§ããªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆåˆ†å‰²æ¨å¥¨ï¼‰

#### ä¿®æ­£æ¸ˆã¿
- âœ… `/api/notifications`ã¨`/api/trending`ã®500ã‚¨ãƒ©ãƒ¼
- âœ… ErrorBoundaryã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥
- âœ… undefined.slice()ã‚¨ãƒ©ãƒ¼

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 

### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«
```sql
-- æ²ç¤ºæ¿æŠ•ç¨¿
board_posts (
  id, category_id, title, content, author_name,
  view_count, reply_count, plus_count, minus_count,
  region, created_at, updated_at, ip_hash
)

-- è¿”ä¿¡
board_replies (
  id, post_id, content, author_name,
  plus_count, minus_count, created_at, ip_hash
)

-- ã‚«ãƒ†ã‚´ãƒªãƒ¼
board_categories (
  id, name, slug, description, icon,
  display_order, is_active
)

-- é€šçŸ¥
user_notifications (
  id, user_id, type, title, message,
  related_post_id, is_read, created_at
)

-- ãã®ä»–
board_events          # ã‚¤ãƒ™ãƒ³ãƒˆ
user_profiles         # ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
user_reputation       # ãƒ¬ãƒ”ãƒ¥ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
trending_topics       # ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯
post_reactions        # ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³
```

### ãƒ“ãƒ¥ãƒ¼
- `trending_posts_view` - ãƒˆãƒ¬ãƒ³ãƒ‰æŠ•ç¨¿è¨ˆç®—æ¸ˆã¿ãƒ“ãƒ¥ãƒ¼
- `enhanced_post_view` - æŠ•ç¨¿è©³ç´°ãƒ“ãƒ¥ãƒ¼

## ğŸš€ é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰
```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# å‹ãƒã‚§ãƒƒã‚¯
npm run type-check

# Lint
npm run lint
npm run lint:fix

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npx supabase migration up
```

### Supabase MCP ã‚³ãƒãƒ³ãƒ‰
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±
mcp__supabase__list_projects
mcp__supabase__get_project --id dleqvbspjouczytouktv

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
mcp__supabase__execute_sql --project_id dleqvbspjouczytouktv --query "SELECT ..."
mcp__supabase__apply_migration --project_id dleqvbspjouczytouktv

# ãƒ­ã‚°ç¢ºèª
mcp__supabase__get_logs --project_id dleqvbspjouczytouktv --service api
mcp__supabase__get_logs --project_id dleqvbspjouczytouktv --service postgres

# ç›£æŸ»
mcp__supabase__get_advisors --project_id dleqvbspjouczytouktv --type security
```

## ğŸ¯ æ¨å¥¨ã•ã‚Œã‚‹æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### å³åº§ã«å¯¾å¿œã™ã¹ã
1. **TypeScript strict mode æœ‰åŠ¹åŒ–**
   ```json
   // tsconfig.json
   {
     "compilerOptions": {
       "strict": true,
       "noImplicitAny": true
     }
   }
   ```

2. **console.logé™¤å»**
   - é–‹ç™ºç”¨ãƒ­ã‚¬ãƒ¼ï¼ˆ`lib/utils/logger.ts`ï¼‰ã‚’ä½¿ç”¨
   - æœ¬ç•ªç’°å¢ƒã§ã¯ç„¡åŠ¹åŒ–

3. **anyå‹ã®è§£æ¶ˆ**
   - å…·ä½“çš„ãªå‹å®šç¾©ã«ç½®ãæ›ãˆ
   - Supabaseã®å‹ç”Ÿæˆæ©Ÿèƒ½ã‚’æ´»ç”¨

### çŸ­æœŸçš„ã«å®Ÿæ–½
1. **çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
   - APIãƒ«ãƒ¼ãƒˆç”¨ã®å…±é€šã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
   - ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”¨ã®ã‚¨ãƒ©ãƒ¼å¢ƒç•Œå¼·åŒ–

2. **å®šæ•°ç®¡ç†**
   - ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã®å®šæ•°åŒ–
   - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´ç†

3. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²**
   - 714è¡Œã®`board/page.tsx`ã‚’åˆ†å‰²
   - ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®æ´»ç”¨

### é•·æœŸçš„ãªæ”¹å–„
1. **ãƒ†ã‚¹ãƒˆè¿½åŠ **
   - Jest + React Testing Library
   - E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰

2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
   - React.memoã®è¿½åŠ æ´»ç”¨
   - ç”»åƒã®é…å»¶èª­ã¿è¾¼ã¿
   - ã‚³ãƒ¼ãƒ‰åˆ†å‰²

3. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–**
   - RLSãƒãƒªã‚·ãƒ¼ã®è¦‹ç›´ã—
   - CSRFå¯¾ç­–
   - ãƒ¬ãƒ¼ãƒˆåˆ¶é™

## ğŸ“š é‡è¦ãªå‚è€ƒè³‡æ–™

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `/CLAUDE.md` - é–‹ç™ºå±¥æ­´ã¨åˆ¶ç´„äº‹é …
- `/docs/QUICK-REFERENCE.md` - ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- `/ERROR_CHECK_SUMMARY.md` - æœ€æ–°ã®ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯çµæœ

### å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹
- [Next.js 14 Documentation](https://nextjs.org/docs)
- [Supabase Documentation](https://supabase.com/docs)
- [Render.com Deployment Guide](https://docs.render.com/)

## ğŸ” ç’°å¢ƒå¤‰æ•°

```env
# .env.local
NEXT_PUBLIC_SUPABASE_URL=https://dleqvbspjouczytouktv.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
CRON_SECRET=your_cron_secret
```

## ğŸš¨ æ³¨æ„äº‹é …

1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID**: `dleqvbspjouczytouktv`ï¼ˆå¤‰æ›´ä¸å¯ï¼‰
2. **ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**: Render.comï¼ˆä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ä½¿ç”¨ç¦æ­¢ï¼‰
3. **ãƒ–ãƒ©ãƒ³ãƒ**: mainãƒ–ãƒ©ãƒ³ãƒã®ã¿ä½¿ç”¨
4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: æ—¢å­˜ã®ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’å¤§å¹…ã«å¤‰æ›´ã—ãªã„

## ğŸ’¡ é–‹ç™ºã®ãƒ’ãƒ³ãƒˆ

1. **ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰**
   - ã¾ãšãƒ­ã‚°ã‚’ç¢ºèªï¼ˆSupabase MCPã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨ï¼‰
   - ErrorBoundaryã§ã‚­ãƒ£ãƒƒãƒã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
   - å‹ã‚¨ãƒ©ãƒ¼ã®å¯èƒ½æ€§ã‚’è€ƒæ…®

2. **æ–°æ©Ÿèƒ½è¿½åŠ æ™‚**
   - æ—¢å­˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã†
   - å‹å®šç¾©ã‚’å…ˆã«ä½œæˆ
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’å¿˜ã‚Œãªã„

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ**
   - React DevToolsã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ç¢ºèª
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç¢ºèª
   - ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ã

---

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€æ¬¡ã®AIé–‹ç™ºè€…ãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å¼•ãç¶™ãéš›ã®åŒ…æ‹¬çš„ãªã‚¬ã‚¤ãƒ‰ã§ã™ã€‚
è³ªå•ã‚„ä¸æ˜ç‚¹ãŒã‚ã‚‹å ´åˆã¯ã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç›´æ¥ç¢ºèªã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

é ‘å¼µã£ã¦ãã ã•ã„ï¼ ğŸš€